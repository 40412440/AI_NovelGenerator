# prompt_definitions.py
# -*- coding: utf-8 -*-
"""
小说创作辅助系统的提示词(Prompt)集合。
这些提示词被设计用于引导AI生成连贯、丰富的小说内容。
"""

# =============== 基础设定与规划提示词 ===================
set_prompt = """\
基于主题「{topic}」、类型「{genre}」，将创作一部{number_of_chapters}章、每章约{word_number}字的小说。
请详细规划以下要素：

【基本信息】
• 建议书名（可含副标题）
• 预估总字数区间
• 主要类型定位（如：奇幻/都市/科幻等）
• 基调与氛围（如：史诗/轻松/黑暗等）

【创作风格】
• 叙事视角选择及理由
• 语言风格特点
• 节奏把控思路

【世界观构筑】
• 时空背景设定
• 世界运行规则（社会/科技/魔法体系等）
• 重大历史事件或背景

【核心故事】
• 主线故事框架
• 重要支线规划
• 核心冲突设置
• 结局走向构思

请具体阐述以上各点，确保前后呼应、逻辑自洽。
"""

character_prompt = """\
基于已确立的小说设定：
{novel_setting}

请完善以下角色体系：

【核心角色塑造】（至少3个）
• 角色基本信息（名字/年龄/身份等）
• 外在特征与性格特点
• 核心价值观与行为模式
• 个人成长轨迹设想
• 独特能力或专长

【人物关系网络】
• 角色间的重要关联
• 潜在矛盾点
• 关系发展预期

【隐藏维度】
• 每个角色的个人秘密
• 待揭示的过往经历
• 性格中的矛盾面

重点说明这些特质如何推动故事发展，为情节转折提供基础。
"""

dark_lines_prompt = """\
根据已设定的角色与背景：
{character_info}

请构建以下隐藏线索体系：

【关键暗线设计】
• 暗线起源与表现形式
• 发展脉络规划
• 揭示时机与方式
• 对整体故事的影响

【伏笔布置】
• 早期暗示点设置
• 中期发展线索
• 后期爆发契机

【隐藏冲突】
• 角色间潜在矛盾
• 阵营对立根源
• 价值观冲突点

确保这些暗线自然融入故事，避免生硬设置。建议提供具体场景建议。
"""

finalize_setting_prompt = """\
请整合以下创作准备内容：

【现有设定】
{novel_setting_base}

【角色系统】
{character_setting}

【暗线规划】
{dark_lines}

将以上要素整合为完整的创作蓝图：

1. 总体框架
   • 核心故事脉络
   • 世界观体系
   • 主题表达方式

2. 人物系统
   • 角色群像
   • 关系网络
   • 成长轨迹

3. 情节编排
   • 主线发展
   • 支线设计
   • 暗线铺陈

4. 创作建议
   • 重点场景构思
   • 节奏控制要点
   • 细节描写建议

请以流畅的叙述文本呈现，突出要素间的有机联系。
"""

novel_directory_prompt = """\
依据最终设定：
{final_novel_setting}

请规划{number_of_chapters}章的详细目录。每章格式：
第N章：章节名 - 核心内容提示

要求：
1. 章节名需简明扼要，富有吸引力
2. 核心内容提示需点明关键信息，为创作提供指引
3. 整体节奏要富有张力，符合三幕结构
4. 适当预留转折与高潮

示例：
第n章：黎明前的暗影 - 主角遭遇神秘袭击，接触核心谜题
...
"""

# =============== 章节创作辅助提示词 ===================
summary_prompt = """\
新增章节内容：
{chapter_text}

当前全局摘要：
{global_summary}

请更新全局摘要（控制在3000字以内）：

【已发生】
• 关键事件梳理
• 人物关系变化
• 重要线索进展

【正在进行】
• 当前危机/冲突
• 角色动态
• 悬而未决的问题

确保摘要重点突出，为后续创作提供清晰参考。
不展开未来发展，保持故事悬念。
"""

update_character_state_prompt = """\
本章内容：
{chapter_text}

现有角色状态：
{old_state}

请更新角色状态档案：

【角色发展】
• 能力/状态变化
• 重要物品获得/失去
• 性格/观念的微妙改变

【人际关系】
• 新建立的联系
• 关系的强化或弱化
• 潜在矛盾点

【事件参与】
• 正在进行的事件
• 个人目标进展
• 新接触的任务

请保持简洁明了，便于后续参考。
"""

chapter_outline_prompt = """\
创作参考资料：
- 设定：{novel_setting}
- 角色状态：{character_state}
- 全局摘要：{global_summary}

第{novel_number}章：{chapter_title}
章节说明：{chapter_brief}

请设计本章节详细大纲：

【核心设计】
• 本章主要冲突/事件
• 与章节主题的呼应方式
• 情节推进目标

【人物安排】
• 出场角色及其状态
• 个人目标与动机
• 互动关系设计

【暗线发展】
• 已有伏笔的推进
• 新增悬念的埋设
• 线索的暗示方式

【结构布局】
• 章节节奏规划
• 高潮设计
• 结尾悬念构思
"""

chapter_write_prompt = """\
创作参考信息：
1. 设定：{novel_setting}
2. 角色状态：{character_state}
3. 摘要：{global_summary}
4. 大纲：{chapter_outline}

第{chapter_title}章
核心：{chapter_brief}

创作要求：
1. 字数不少于{word_number}字
2. 紧扣章节主题
3. 注重细节描写
4. 深入角色内心
5. 为下章预留引子

建议：
• 通过环境描写渲染氛围
• 展现人物细微情感变化
• 适当运用对话推进情节
• 保持节奏张弛有度
"""